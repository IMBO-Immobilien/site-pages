import{_ as O}from"./Spinner.9ccdeb3d.js";import{_ as q}from"./imgSrc.6c5d94f1.js";import{_ as P}from"./Links.5a837d86.js";import{_ as Q}from"./Content.vue.6e15fda3.js";import{_ as G}from"./svg-img.c84b5052.js";import{d as E,u as M,o,c as i,a as s,t as d,p as J,f as K,_ as F,i as L,m as U,F as C,r as I,b as _,g as c,y as W,q as X,v as Y,x as w,h as v,w as A,e as Z,k as ee}from"./entry.333d4a1c.js";import{u as te}from"./composables.8128985c.js";import{u as se}from"./site.0140fde5.js";import{u as ae,a as ne,e as oe}from"./queries.db9c3da7.js";import"./sanity-content.9b310ec4.js";const ce=a=>(J("data-v-d66c6c57"),a=a(),K(),a),le={class:"download-container"},re=ce(()=>s("div",{class:"arrow"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 94 94",class:"arrow-svg"},[s("path",{d:"M58 18 89 45 58 73M0 45 89 45","stroke-linejoin":"miter"})])],-1)),ie=["href"],de=E({__name:"Download",props:{dl:{type:Object,default:{}}},setup(a){const{dl:e}=a,{locale:p}=M(),u=()=>{switch(p.value){case"de":return e.descriptionDE;default:return typeof e.descriptionEN<"u"?e.descriptionEN:e.descriptionDE}};return(n,l)=>(o(),i("div",le,[re,s("a",{class:"download-link",href:`${a.dl.url}?dl=${a.dl.filename}`,target:"_blank"},d(u())+" ",9,ie)]))}});const _e=F(de,[["__scopeId","data-v-d66c6c57"]]),ue={class:"asset-details"},me={class:"asset-images columns"},pe={class:"text-container"},fe=["innerHTML"],ge={key:0},he={class:"flat-count"},ve={key:1,class:"asset-flats"},ye={class:"flat-name"},ke={class:"flat-number"},we={class:"room-number"},Ee={class:"flat-position"},xe={key:2,class:"filler"},De={class:"more-info"},be=E({__name:"AssetDetails",props:{asset:{type:Object,default:()=>({})},pending:{type:Boolean,default:!0}},setup(a){var b,N,$,S,R;const{asset:e}=a,{getSiteData:p,getCanonical:u}=se(),{t:n,locale:l}=M(),{params:x,fullPath:D,path:y}=L(),m=U(()=>e.flats.filter(r=>!r.taken)),T=()=>{switch(l.value){case"de":return e.nameDE;default:return typeof e.nameEN<"u"?e.nameEN:e.nameDE}},V=r=>{switch(r.split(".").shift()){case"0":return n("ground_floor");case"1":return n("first_floor");case"2":return n("second_floor");default:return""}},f=r=>{let k=r+"DE",g=r+"EN";switch(l.value){case"de":return e[k];default:return typeof e[g]<"u"?e[g]:e[k]}};return te({title:()=>l.value==="de"?e.nameDE:e.nameEN,titleTemplate:r=>`${r} | ${p.description}`,meta:[{hid:"og:title",property:"og:title",content:l.value==="de"?e.nameDE:e.nameEN},{hid:"og:type",property:"og:type",content:"article"},{hid:"og:url",property:"og:url",content:u+D},{hid:"og:image",property:"og:image",content:`${(b=e==null?void 0:e.images[0])==null?void 0:b.url}?w=1200&h=1200&fit=max&auto=format`},{hid:"og:description",name:"og:description",content:l.value==="de"?(N=e.generalRawDE)==null?void 0:N.slice(0,200).trim():($=e.generalRawEN)==null?void 0:$.slice(0,200).trim()},{hid:"description",name:"description",content:l.value==="de"?(S=e.generalRawDE)==null?void 0:S.slice(0,200).trim():(R=e.generalRawEN)==null?void 0:R.slice(0,200).trim()}],link:[{rel:"canonical",href:u+y}]}),(r,k)=>{const g=q,B=P,h=Q,j=G,H=_e;return o(),i("div",ue,[s("div",me,[(o(!0),i(C,null,I(a.asset.images,(t,z)=>(o(),i("div",{class:"link-container",style:w({aspectRatio:t.dimensions.aspectRatio.toString()})},[(o(),v(B,{to:{name:"assets-asset-images",hash:`#${t.slug.current}`,params:{asset:c(x).asset}},key:z,class:"image-link",style:w({aspectRatio:t.dimensions.aspectRatio.toString()})},{default:A(()=>[s("div",{class:"image-wrapper",style:w({aspectRatio:t.dimensions.aspectRatio.toString()})},[_(g,{dimensions:t.dimensions,copyright:t.author,width:800,fit:"inside",loading:!0,src:t.url,alt:t.title},null,8,["dimensions","copyright","src","alt"])],4)]),_:2},1032,["to","style"]))],4))),256))]),s("div",pe,[s("h1",{class:"asset-name",innerHTML:T()},null,8,fe),_(h,{cl:"asset-general",blocks:f("general")},null,8,["blocks"]),c(m).length?(o(),i("div",ge,[s("span",he,d(c(m).length),1),s("span",null,d(c(n)("flats_available")),1)])):W("",!0),c(m).length?(o(),i("div",ve,[(o(!0),i(C,null,I(c(m),t=>(o(),v(B,{class:"flat-list",key:t.slug.current,to:{name:"assets-asset-flat",params:{asset:a.asset.slug.current,flat:t.slug.current}}},{default:A(()=>[_(j,{src:t.plans[0].url,alt:t.plans[0].title,class:"floorplan-mini drop-darken"},null,8,["src","alt"]),s("div",ye,[s("div",ke,d(t.flatNumber)+" ",1),s("div",we,d(t.rooms+" "+c(n)("rooms")),1),s("div",Ee,[s("span",null,d(V(t.flatNumber)),1),Z(" "+d(t.position)+" ",1)])])]),_:2},1032,["to"]))),128))])):(o(),i("div",xe,d(c(n)("nothing_available")),1)),X(_(H,{dl:a.asset.form},null,8,["dl"]),[[Y,a.asset.form]]),s("div",De,[_(h,{cl:"asset-descr",blocks:f("surroundings")},null,8,["blocks"]),_(h,{cl:"asset-descr",blocks:f("garage")},null,8,["blocks"]),_(h,{cl:"asset-descr",blocks:f("architecture")},null,8,["blocks"])])])])}}});const Ne=F(be,[["__scopeId","data-v-8a4c66be"]]),Te=E({__name:"index",setup(a){const{params:e}=L(),{fetch:p}=ae(),{data:u,error:n,pending:l}=ne(`${e.asset}-details`,()=>p(oe,{asset:e.asset}),{lazy:!0});if(n!=null&&n.value)throw console.error(n),ee({statusCode:404,statusMessage:"Asset Not Found"});return(x,D)=>{const y=O,m=Ne;return c(l)?(o(),v(y,{key:0})):(o(),v(m,{key:1,asset:c(u)},null,8,["asset"]))}}});export{Te as default};
