import{_ as h}from"./Spinner.9ccdeb3d.js";import{g as y,_ as E}from"./lib.211b299d.js";import{u as k,a as N,f as x}from"./queries.db9c3da7.js";import{d as D,i as B,j as C,k as n,g as o,o as r,h as l}from"./entry.333d4a1c.js";import"./Links.5a837d86.js";import"./composables.8128985c.js";import"./site.0140fde5.js";const z=D({__name:"index",setup(v){const{fetch:c}=k(),{params:a,name:m,matched:u}=B(),{resolve:i}=C(),f=y(u[0].path,m,a,i);let t={images:[],titleDE:"",titleEN:"",slug:{current:""}};const{data:_,error:s,pending:p}=N(`${a.asset}-${a.flat}-image-collection`,()=>c(x,{asset:a.asset,flat:a.flat,default:t}),{lazy:!0,transform:e=>{if(e.flat.images.length>0)t.images=e.flat.images,t.titleDE=e.nameDE,t.titleEN=e.nameEN,t.slug=e.slug;else throw console.error("No flat image data",e),n({statusCode:404,statusMessage:"No flat image data"});return t}});if(s!=null&&s.value)throw console.error(s),n({statusCode:404,statusMessage:"Image Not Found"});return(e,w)=>{const g=h,d=E;return o(p)?(r(),l(g,{key:0})):(r(),l(d,{key:1,collection:o(_),source:o(f)},null,8,["collection","source"]))}}});export{z as default};
